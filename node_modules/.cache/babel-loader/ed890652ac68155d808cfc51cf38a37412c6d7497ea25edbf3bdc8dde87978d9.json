{"ast":null,"code":"import _regeneratorRuntime from\"D:/E-Commerce/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/E-Commerce/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/E-Commerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useLocation}from'react-router-dom';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function FetchOrder(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),orderData=_useState2[0],setorderData=_useState2[1];var location=useLocation();var userEmail=location.state.userEmail;var fetchOrder=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://getyourjewellerybackend.onrender.com/api/auth/mygyjOrderData\",{// credentials: 'include',\n// Origin:\"http://localhost:3000/login\",\nmethod:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:userEmail})}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(res){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return res.json();case 2:response=_context.sent;_context.next=5;return setorderData(response);case 5:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());case 2:case\"end\":return _context2.stop();}},_callee2);}));return function fetchOrder(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchOrder();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"nav\",{class:\"navbar navbar-light bg-light\",children:/*#__PURE__*/_jsx(\"div\",{class:\"container\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"text-secondary\",children:[\"Orders of \",userEmail]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:orderData!=={}?Array(orderData).map(function(data){return data.orderData?data.orderData.order_data.slice(0).reverse().map(function(item){return item.map(function(arrayData){return/*#__PURE__*/_jsx(\"div\",{children:arrayData.Order_date?/*#__PURE__*/_jsxs(\"div\",{className:\"m-auto mt-5\",children:[data=arrayData.Order_date,/*#__PURE__*/_jsx(\"hr\",{})]}):/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6 col-lg-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card mt-3\",style:{width:\"16rem\",maxHeight:\"360px\"},children:[/*#__PURE__*/_jsx(\"img\",{src:arrayData.img,className:\"card-img-top\",alt:\"...\",style:{height:\"120px\",objectFit:\"fill\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:arrayData.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"container w-100 p-0\",style:{height:\"38px\"},children:[/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:arrayData.qty}),/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:data}),/*#__PURE__*/_jsxs(\"div\",{className:\" d-inline ms-2 h-100 w-20 fs-5\",children:[\"\\u20B9\",arrayData.price,\"/-\"]})]})]})]})})});});}):\"\";}):\"You have no order\"})]})});}","map":{"version":3,"names":["React","useState","useEffect","useLocation","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","FetchOrder","_useState","_useState2","_slicedToArray","orderData","setorderData","location","userEmail","state","fetchOrder","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","wrap","_callee2$","_context2","prev","next","fetch","method","headers","body","JSON","stringify","email","then","_ref2","_callee","res","response","_callee$","_context","json","sent","stop","_x","apply","arguments","children","className","class","Array","map","data","order_data","slice","reverse","item","arrayData","Order_date","style","width","maxHeight","src","img","alt","height","objectFit","name","qty","price"],"sources":["D:/E-Commerce/src/screens/FetchOrder.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useLocation } from 'react-router-dom'\r\nexport default function FetchOrder() {\r\n    const [orderData, setorderData] = useState({})\r\n    const location = useLocation()\r\n    const { userEmail } = location.state\r\n    const fetchOrder = async () => {\r\n        //console.log(userEmail)\r\n        await fetch(\"https://getyourjewellerybackend.onrender.com/api/auth/mygyjOrderData\", {\r\n            // credentials: 'include',\r\n            // Origin:\"http://localhost:3000/login\",\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                email: userEmail\r\n            })\r\n        }).then(async (res) => {\r\n            let response = await res.json()\r\n            await setorderData(response)\r\n        })\r\n\r\n        // await res.map((data)=>{\r\n        //    console.log(data)\r\n        // })\r\n\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchOrder()\r\n    }, [])\r\n    return (\r\n        <>\r\n            \r\n            <div className='container'>\r\n            <div>\r\n                <nav class=\"navbar navbar-light bg-light\">\r\n                    <div class=\"container\">\r\n                    <h2 className='text-secondary'>Orders of {userEmail}</h2>\r\n                    </div>\r\n                </nav>\r\n            </div>\r\n                <div className='row'>\r\n\r\n                    {orderData !== {} ? Array(orderData).map(data => {\r\n                        return (\r\n                            data.orderData ?\r\n                                data.orderData.order_data.slice(0).reverse().map((item) => {\r\n                                    return (\r\n                                        item.map((arrayData) => {\r\n                                            return (\r\n                                                <div  >\r\n                                                    {arrayData.Order_date ? <div className='m-auto mt-5'>\r\n\r\n                                                        {data = arrayData.Order_date}\r\n                                                        <hr />\r\n                                                    </div> :\r\n                                                        <div className='col-12 col-md-6 col-lg-3' >\r\n                                                            <div className=\"card mt-3\" style={{ width: \"16rem\", maxHeight: \"360px\" }}>\r\n                                                                <img src={arrayData.img} className=\"card-img-top\" alt=\"...\" style={{ height: \"120px\", objectFit: \"fill\" }} />\r\n                                                                <div className=\"card-body\">\r\n                                                                    <h5 className=\"card-title\">{arrayData.name}</h5>\r\n                                                                    <div className='container w-100 p-0' style={{ height: \"38px\" }}>\r\n                                                                        <span className='m-1'>{arrayData.qty}</span>\r\n                                                                        <span className='m-1'>{data}</span>\r\n                                                                        <div className=' d-inline ms-2 h-100 w-20 fs-5' >\r\n                                                                            â‚¹{arrayData.price}/-\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                        </div>\r\n                                                    }\r\n                                                </div>\r\n                                            )\r\n                                        })\r\n                                    )\r\n                                }) : \"\"\r\n                        )\r\n                    }) : \"You have no order\"}\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}