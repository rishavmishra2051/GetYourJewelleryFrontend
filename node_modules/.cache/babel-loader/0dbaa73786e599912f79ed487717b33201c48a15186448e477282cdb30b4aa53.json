{"ast":null,"code":"import _slicedToArray from\"D:/E-Commerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"D:/E-Commerce/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"D:/E-Commerce/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import React,{useReducer,useContext,createContext}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var CartStateContext=/*#__PURE__*/createContext();var CartDispatchContext=/*#__PURE__*/createContext();var reducer=function reducer(state,action){switch(action.type){case\"ADD\":return[].concat(_toConsumableArray(state),[{id:action.id,name:action.name,qty:action.qty,price:action.price,img:action.img,category:action.category,save:action.save,dealer:action.dealer,metal:action.metal,material:action.material,pricebreakup:action.pricebreakup}]);case\"REMOVE\":var newArr=_toConsumableArray(state);newArr.splice(action.index,1);return newArr;case\"DROP\":var empArray=[];return empArray;case\"UPDATE\":var arr=_toConsumableArray(state);arr.find(function(food,index){if(food.id===action.id){console.log(food.qty,parseInt(action.qty),action.price+food.price);arr[index]=_objectSpread(_objectSpread({},food),{},{qty:parseInt(action.qty)+food.qty,price:action.price+food.price});}return arr;});return arr;default:console.log(\"Error in Reducer\");}};export var CartProvider=function CartProvider(_ref){var children=_ref.children;var _useReducer=useReducer(reducer,[]),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return/*#__PURE__*/_jsx(CartDispatchContext.Provider,{value:dispatch,children:/*#__PURE__*/_jsx(CartStateContext.Provider,{value:state,children:children})});};export var useCart=function useCart(){return useContext(CartStateContext);};export var useDispatchCart=function useDispatchCart(){return useContext(CartDispatchContext);};","map":{"version":3,"names":["React","useReducer","useContext","createContext","jsx","_jsx","CartStateContext","CartDispatchContext","reducer","state","action","type","concat","_toConsumableArray","id","name","qty","price","img","category","save","dealer","metal","material","pricebreakup","newArr","splice","index","empArray","arr","find","food","console","log","parseInt","_objectSpread","CartProvider","_ref","children","_useReducer","_useReducer2","_slicedToArray","dispatch","Provider","value","useCart","useDispatchCart"],"sources":["D:/E-Commerce/src/components/ContextReducer.js"],"sourcesContent":["import React, { useReducer, useContext, createContext } from 'react';\r\n\r\nconst CartStateContext = createContext();\r\nconst CartDispatchContext = createContext();\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"ADD\":\r\n            return [...state, { id: action.id, name: action.name, qty: action.qty, price: action.price, img: action.img, category: action.category,\r\n                save: action.save, dealer: action.dealer, metal: action.metal, material: action.material, pricebreakup: action.pricebreakup }]\r\n        case \"REMOVE\":\r\n            let newArr = [...state]\r\n            newArr.splice(action.index, 1)\r\n            return newArr;\r\n        case \"DROP\":\r\n            let empArray = []\r\n            return empArray\r\n        case \"UPDATE\":\r\n            let arr = [...state]\r\n            arr.find((food, index) => {\r\n                if (food.id === action.id) {\r\n                    console.log(food.qty, parseInt(action.qty), action.price + food.price)\r\n                    arr[index] = { ...food, qty: parseInt(action.qty) + food.qty, price: action.price + food.price }\r\n                }\r\n                return arr\r\n            })\r\n            return arr\r\n        default:\r\n            console.log(\"Error in Reducer\");\r\n    }\r\n};\r\n\r\nexport const CartProvider = ({ children }) => {\r\n    const [state, dispatch] = useReducer(reducer, []);\r\n\r\n    return (\r\n        <CartDispatchContext.Provider value={dispatch}>\r\n            <CartStateContext.Provider value={state}>\r\n                {children}\r\n            </CartStateContext.Provider>\r\n        </CartDispatchContext.Provider>\r\n    )\r\n};\r\n\r\nexport const useCart = () => useContext(CartStateContext);\r\nexport const useDispatchCart = () => useContext(CartDispatchContext);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}